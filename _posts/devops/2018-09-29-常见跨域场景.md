---
layout: post
---  
 
 跨域是指一个域下的文档或脚本试图去请求另一个域下的资源，常见对几种跨域场景如下：


URL                            |          说明                |    是否允许通信
-------------------------------| ---------------------------- | ---------------------
http://www.domain.com/a.js |                                  |
http://www.domain.com/b.js  |       同一域名，不同文件或路径     |    允许
http://www.domain.com/lab/c.js |                              |

URL                            |          说明                |    是否允许通信
-------------------------------| ---------------------------- | ---------------------
http://www.domain.com:8000/a.js |                            |
http://www.domain.com/b.js       |  同一域名，不同端口         |       不允许

URL                            |          说明                |    是否允许通信
-------------------------------| ---------------------------- | ---------------------
http://www.domain.com/a.js |                                  |
https://www.domain.com/b.js |       同一域名，不同协议          |      不允许

URL                            |          说明                |    是否允许通信
-------------------------------| ---------------------------- | ---------------------
http://www.domain.com/a.js|                                   |
http://192.168.4.12/b.js     |      域名和域名对应相同ip        |      不允许

URL                            |          说明                |    是否允许通信
-------------------------------| ---------------------------- | ---------------------
http://www.domain.com/a.js |                                  |
http://x.domain.com/b.js    |       主域相同，子域不同           |     不允许
http://domain.com/c.js |                                      |

URL                            |          说明                |    是否允许通信
-------------------------------| ---------------------------- | ---------------------
http://www.domain1.com/a.js |                                 |
http://www.domain2.com/b.js  |      不同域名                    |     不允许

**跨域解决方案**  

1、 通过jsonp跨域
2、 document.domain + iframe跨域
3、 location.hash + iframe
4、 window.name + iframe跨域
5、 postMessage跨域
6、 跨域资源共享（CORS）
7、 nginx代理跨域
8、 nodejs中间件代理跨域
9、 WebSocket协议跨域